<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Uttarakhand Land Area Calculator</title>

  <!-- Favicon -->
  <link rel="icon" href="./logo.png" />

  <style>
    body{font-family:system-ui,Arial; background:#f6f7fb; margin:0; padding:24px;}
    .wrap{max-width:820px; margin:0 auto;}

    /* ===== Header ===== */
    .topbar{
      background:linear-gradient(135deg,#0b0b0b,#2a2a2a);
      border-radius:18px;
      padding:16px;
      box-shadow:0 10px 24px rgba(0,0,0,.15);
      margin-bottom:14px;
      color:#fff;
    }
    .topbar-inner{
      display:flex;
      align-items:center;
      gap:14px;
      flex-wrap:wrap; /* important for mobile */
    }

    /* Logo: clear, no crop */
    .logo{
      width:64px;
      height:64px;
      object-fit:contain;
      display:block;
      background:transparent;
      border-radius:10px;
      flex:0 0 auto;
    }

    .brandtext{
      min-width:220px;
      flex:1 1 240px;
    }
    .brandtext h2{margin:0; font-size:26px; line-height:1.15; letter-spacing:.2px;}
    .brandtext p{margin:6px 0 0; font-size:13px; color:rgba(255,255,255,.75); line-height:1.35;}

    .header-actions{
      margin-left:auto;
      display:flex;
      align-items:center;
      gap:10px;
      flex:0 1 auto;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:10px 14px;
      border-radius:12px;
      font-weight:800;
      text-decoration:none;
      border:1px solid rgba(255,255,255,.18);
      white-space:nowrap;
      cursor:pointer;
    }
    .btn-wa{
      background:#25D366;
      color:#061b0d;
      border:none;
    }
    .btn-wa:hover{opacity:.92;}

    /* Mobile: keep WhatsApp button visible + full width */
    @media (max-width: 560px){
      body{padding:14px;}
      .topbar-inner{flex-direction:column; align-items:flex-start;}
      .brandtext{min-width:0; width:100%;}
      .header-actions{margin-left:0; width:100%;}
      .btn{width:100%;}
      .logo{width:56px; height:56px;}
    }

    /* ===== Card ===== */
    .card{background:#fff; border:1px solid #e6e6e6; border-radius:14px; padding:16px; box-shadow:0 6px 18px rgba(0,0,0,.06);}
    h1{margin:0 0 8px; font-size:22px;}
    .note{color:#555; font-size:14px; margin:0 0 12px; line-height:1.4;}
    label{display:block; font-weight:700; margin:12px 0 6px; font-size:14px;}
    input,select,button{width:100%; padding:10px 12px; border-radius:10px; border:1px solid #cfcfcf; font-size:14px;}
    button{background:#111; color:#fff; border:none; cursor:pointer; font-weight:800;}
    button:hover{opacity:.92}
    .row{display:grid; gap:12px; grid-template-columns:1fr;}
    @media(min-width:720px){ .row.two{grid-template-columns:1fr 1fr;} }

    .result{margin-top:14px; font-size:18px; font-weight:900;}
    .small{margin-top:6px; color:#555; font-size:13px; line-height:1.35;}
    .pill{display:inline-block; padding:4px 10px; border-radius:999px; background:#f0f1f5; font-size:12px; margin-bottom:10px;}

    .footer{
      text-align:center;
      color:#777;
      font-size:12px;
      margin-top:14px;
      line-height:1.4;
    }

    /* ===== Floating WhatsApp Button ===== */
    .wa-float{
      position:fixed;
      right:18px;
      bottom:18px;
      width:54px;
      height:54px;
      border-radius:999px;
      background:#25D366;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 10px 22px rgba(0,0,0,.22);
      z-index:9999;
      text-decoration:none;
    }
    .wa-float svg{width:28px; height:28px; fill:#061b0d;}
    .wa-float:hover{opacity:.92;}
    @media (max-width:560px){
      .wa-float{right:14px; bottom:14px;}
    }
  </style>
</head>

<body>
<div class="wrap">

  <!-- HEADER -->
  <div class="topbar">
    <div class="topbar-inner">
      <img class="logo" src="./logo.png" alt="MSD Construction Logo" />

      <div class="brandtext">
        <h2>MSD Engineers & Construction</h2>
        <p>Construction â€¢ New Property Planning â€¢ Dehradun</p>
      </div>

      <div class="header-actions">
        <a id="waHeaderBtn" class="btn btn-wa" href="#" target="_blank" rel="noopener">WhatsApp for Quote</a>
      </div>
    </div>
  </div>

  <!-- CALCULATOR -->
  <div class="card">
    <div class="pill">Calculator by MSD Engineers & Construction</div>
    <h1>Uttarakhand Land Area Converter</h1>
    <p class="note">Bigha varies by area. Select a Bigha mode that matches your local practice.</p>

    <div class="row two">
      <div>
        <label>Value</label>
        <input id="value" type="number" step="any" value="1" />
      </div>
      <div>
        <label>Bigha Mode</label>
        <select id="bighaMode">
          <option value="8100">Standard (1 Bigha = 8,100 sq.ft)</option>
          <option value="25920">Hill (12 Nali) (1 Bigha = 25,920 sq.ft)</option>
          <option value="custom">Custom</option>
        </select>
      </div>
    </div>

    <div id="customBighaWrap" style="display:none;">
      <label>Custom: 1 Bigha = (sq.ft)</label>
      <input id="customBigha" type="number" step="any" placeholder="e.g., 17424" />
    </div>

    <div class="row two">
      <div>
        <label>From</label>
        <select id="fromUnit"></select>
      </div>
      <div>
        <label>To</label>
        <select id="toUnit"></select>
      </div>
    </div>

    <div style="margin-top:12px;">
      <button id="convertBtn" type="button">Convert</button>
    </div>

    <div class="result" id="result"></div>
    <div class="small" id="breakdown"></div>

    <div class="footer">
      Note: Local land units can vary by tehsil/village. Always confirm with registry/revenue records.
      <br/>
      Â© <span id="yr"></span> MSD Engineers & Construction
    </div>
  </div>
</div>

<!-- Floating WhatsApp -->
<a id="waFloatBtn" class="wa-float" href="#" target="_blank" rel="noopener" aria-label="WhatsApp">
  <!-- WhatsApp icon -->
  <svg viewBox="0 0 32 32" aria-hidden="true">
    <path d="M19.11 17.36c-.28-.14-1.64-.81-1.9-.9-.26-.1-.45-.14-.64.14-.19.28-.74.9-.9 1.08-.17.19-.33.21-.61.07-.28-.14-1.2-.44-2.28-1.4-.84-.75-1.41-1.68-1.58-1.96-.17-.28-.02-.43.12-.57.12-.12.28-.33.42-.5.14-.17.19-.28.28-.47.09-.19.05-.36-.02-.5-.07-.14-.64-1.54-.88-2.11-.23-.55-.47-.48-.64-.49h-.55c-.19 0-.5.07-.76.36-.26.28-1 1-1 2.44 0 1.44 1.02 2.83 1.16 3.03.14.19 2.01 3.06 4.87 4.29.68.29 1.2.47 1.61.6.68.22 1.3.19 1.79.12.55-.08 1.64-.67 1.87-1.32.23-.64.23-1.2.16-1.32-.07-.12-.26-.19-.54-.33z"/>
    <path d="M16 3C8.83 3 3 8.72 3 15.77c0 2.24.6 4.43 1.73 6.35L3 29l7.09-1.66c1.85 1.01 3.95 1.54 6.08 1.54h.01c7.17 0 13-5.72 13-12.77C29.18 8.72 23.17 3 16 3zm0 23.64h-.01c-1.96 0-3.88-.53-5.55-1.54l-.4-.24-4.21.99.99-4.09-.26-.41a10.47 10.47 0 0 1-1.66-5.57C4.9 9.95 9.84 5.13 16 5.13c6.16 0 11.1 4.82 11.1 10.64 0 5.82-4.94 10.87-11.1 10.87z"/>
  </svg>
</a>

<script>
  // Footer year
  document.getElementById("yr").textContent = new Date().getFullYear();

  // ===== WhatsApp links (SET YOUR NUMBER HERE) =====
  const WHATSAPP_NUMBER = "919997162979"; // <-- 
  const DEFAULT_MESSAGE = "Hi MSD Construction ðŸ‘‹ I used your Uttarakhand Land Area Calculator and need help with my plot measurement / construction planning.";

  function waLink(message){
    const msg = encodeURIComponent(message || DEFAULT_MESSAGE);
    return `https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`;
  }

  // Set header + floating WhatsApp links
  const waHeaderBtn = document.getElementById("waHeaderBtn");
  const waFloatBtn = document.getElementById("waFloatBtn");
  waHeaderBtn.href = waLink(DEFAULT_MESSAGE);
  waFloatBtn.href = waLink(DEFAULT_MESSAGE);

  // ===== Calculator =====
  const BASE = {
    "sq.ft": 1,
    "sq.yd (gaj)": 9,
    "sq.m": 10.763910416709722,
    "acre": 43560,
    "hectare": 107639.10416709722,

    "nali": 2160,
    "mutthi": 2160 / 16,

    "bigha": 8100,
    "biswa": 8100 / 20
  };

  const units = ["sq.ft","sq.yd (gaj)","sq.m","acre","hectare","nali","mutthi","bigha","biswa"];

  const valueEl = document.getElementById("value");
  const fromUnit = document.getElementById("fromUnit");
  const toUnit = document.getElementById("toUnit");
  const bighaMode = document.getElementById("bighaMode");
  const customBighaWrap = document.getElementById("customBighaWrap");
  const customBigha = document.getElementById("customBigha");
  const resultEl = document.getElementById("result");
  const breakdownEl = document.getElementById("breakdown");

  function fillSelect(sel, defaultVal){
    sel.innerHTML = "";
    units.forEach(u => {
      const opt = document.createElement("option");
      opt.value = u;
      opt.textContent = u;
      sel.appendChild(opt);
    });
    sel.value = defaultVal;
  }

  fillSelect(fromUnit, "nali");
  fillSelect(toUnit, "sq.ft");

  function setBighaSqft(){
    let bSqft;
    if (bighaMode.value === "custom") {
      bSqft = Number(customBigha.value);
      if (!isFinite(bSqft) || bSqft <= 0) bSqft = 8100;
    } else {
      bSqft = Number(bighaMode.value);
    }
    BASE["bigha"] = bSqft;
    BASE["biswa"] = bSqft / 20;
  }

  function fmt(n, max=6){
    return Number(n).toLocaleString(undefined, { maximumFractionDigits: max });
  }

  function convert(){
    setBighaSqft();

    const val = Number(valueEl.value);
    const from = fromUnit.value;
    const to = toUnit.value;

    if (!isFinite(val)) {
      resultEl.textContent = "";
      breakdownEl.textContent = "Please enter a valid number.";
      return;
    }

    const sqft = val * BASE[from];
    const out = sqft / BASE[to];

    resultEl.textContent = `${fmt(val)} ${from} = ${fmt(out)} ${to}`;
    breakdownEl.textContent =
      `Breakdown: ${fmt(val)} Ã— ${fmt(BASE[from])} sq.ft = ${fmt(sqft)} sq.ft â†’ Ã· ${fmt(BASE[to])} = ${fmt(out)}`;
  }

  bighaMode.addEventListener("change", () => {
    customBighaWrap.style.display = (bighaMode.value === "custom") ? "block" : "none";
    convert();
  });

  customBigha.addEventListener("input", convert);
  valueEl.addEventListener("input", convert);
  fromUnit.addEventListener("change", convert);
  toUnit.addEventListener("change", convert);

  valueEl.addEventListener("keydown", (e) => {
    if (e.key === "Enter") convert();
  });

  document.getElementById("convertBtn").addEventListener("click", convert);

  convert();
</script>

</body>
</html>
