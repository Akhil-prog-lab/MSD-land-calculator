<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Uttarakhand Land Area Calculator</title>
  <style>
    body{font-family:system-ui,Arial; background:#f6f7fb; margin:0; padding:24px;}
    .wrap{max-width:820px; margin:0 auto;}
    .card{background:#fff; border:1px solid #e6e6e6; border-radius:14px; padding:16px; box-shadow:0 6px 18px rgba(0,0,0,.06);}
    h1{margin:0 0 8px; font-size:22px;}
    .note{color:#555; font-size:14px; margin:0 0 12px; line-height:1.4;}
    label{display:block; font-weight:700; margin:12px 0 6px; font-size:14px;}
    input,select,button{width:100%; padding:10px 12px; border-radius:10px; border:1px solid #cfcfcf; font-size:14px;}
    button{background:#111; color:#fff; border:none; cursor:pointer; font-weight:800;}
    button:hover{opacity:.92}
    .row{display:grid; gap:12px; grid-template-columns:1fr; }
    @media(min-width:720px){ .row.two{grid-template-columns:1fr 1fr;} }
    .result{margin-top:14px; font-size:18px; font-weight:900;}
    .small{margin-top:6px; color:#555; font-size:13px; line-height:1.35;}
    .pill{display:inline-block; padding:4px 10px; border-radius:999px; background:#f0f1f5; font-size:12px; margin-bottom:10px;}
  </style>
</head>

<body>
<div class="wrap">
  <div class="card">
    <div class="pill">Uttarakhand • Nali / Mutthi / Bigha / Biswa / Gaj</div>
    <h1>Uttarakhand Land Area Converter</h1>
    <p class="note">Bigha varies by area. Select a Bigha mode that matches your local practice.</p>

    <div class="row two">
      <div>
        <label>Value</label>
        <input id="value" type="number" step="any" value="1" />
      </div>
      <div>
        <label>Bigha Mode</label>
        <select id="bighaMode">
          <option value="8100">Standard (1 Bigha = 8,100 sq.ft)</option>
          <option value="25920">Hill (12 Nali) (1 Bigha = 25,920 sq.ft)</option>
          <option value="custom">Custom</option>
        </select>
      </div>
    </div>

    <div id="customBighaWrap" style="display:none;">
      <label>Custom: 1 Bigha = (sq.ft)</label>
      <input id="customBigha" type="number" step="any" placeholder="e.g., 17424" />
    </div>

    <div class="row two">
      <div>
        <label>From</label>
        <select id="fromUnit"></select>
      </div>
      <div>
        <label>To</label>
        <select id="toUnit"></select>
      </div>
    </div>

    <div style="margin-top:12px;">
      <button id="convertBtn" type="button">Convert</button>
    </div>

    <div class="result" id="result"></div>
    <div class="small" id="breakdown"></div>
  </div>
</div>

<script>
  const BASE = {
    "sq.ft": 1,
    "sq.yd (gaj)": 9,
    "sq.m": 10.763910416709722,
    "acre": 43560,
    "hectare": 107639.10416709722,

    "nali": 2160,
    "mutthi": 2160 / 16,

    "bigha": 8100,
    "biswa": 8100 / 20
  };

  const units = ["sq.ft","sq.yd (gaj)","sq.m","acre","hectare","nali","mutthi","bigha","biswa"];

  const valueEl = document.getElementById("value");
  const fromUnit = document.getElementById("fromUnit");
  const toUnit = document.getElementById("toUnit");
  const bighaMode = document.getElementById("bighaMode");
  const customBighaWrap = document.getElementById("customBighaWrap");
  const customBigha = document.getElementById("customBigha");
  const resultEl = document.getElementById("result");
  const breakdownEl = document.getElementById("breakdown");

  function fillSelect(sel, defaultVal){
    sel.innerHTML = "";
    units.forEach(u => {
      const opt = document.createElement("option");
      opt.value = u;
      opt.textContent = u;
      sel.appendChild(opt);
    });
    sel.value = defaultVal;
  }

  fillSelect(fromUnit, "nali");
  fillSelect(toUnit, "sq.ft");

  function setBighaSqft(){
    let bSqft;
    if (bighaMode.value === "custom") {
      bSqft = Number(customBigha.value);
      if (!isFinite(bSqft) || bSqft <= 0) bSqft = 8100;
    } else {
      bSqft = Number(bighaMode.value);
    }
    BASE["bigha"] = bSqft;
    BASE["biswa"] = bSqft / 20;
  }

  function fmt(n, max=6){
    return Number(n).toLocaleString(undefined, { maximumFractionDigits: max });
  }

  function convert(){
    setBighaSqft();

    const val = Number(valueEl.value);
    const from = fromUnit.value;
    const to = toUnit.value;

    if (!isFinite(val)) {
      resultEl.textContent = "";
      breakdownEl.textContent = "Please enter a valid number.";
      return;
    }

    const sqft = val * BASE[from];
    const out = sqft / BASE[to];

    resultEl.textContent = `${fmt(val)} ${from} = ${fmt(out)} ${to}`;
    breakdownEl.textContent =
      `Breakdown: ${fmt(val)} × ${fmt(BASE[from])} sq.ft = ${fmt(sqft)} sq.ft → ÷ ${fmt(BASE[to])} = ${fmt(out)}`;
  }

  bighaMode.addEventListener("change", () => {
    customBighaWrap.style.display = (bighaMode.value === "custom") ? "block" : "none";
    convert();
  });

  customBigha.addEventListener("input", convert);
  valueEl.addEventListener("input", convert);
  fromUnit.addEventListener("change", convert);
  toUnit.addEventListener("change", convert);

  valueEl.addEventListener("keydown", (e) => {
    if (e.key === "Enter") convert();
  });

  document.getElementById("convertBtn").addEventListener("click", convert);

  convert();
</script>

</body>
</html>
